import{A as h,r as a}from"./index-BKRUu3Yd.js";const p=t=>{if(t==="/timeline"){a.invalidate("timeline:*"),a.invalidate("about:*"),a.invalidate("dashboard:*");return}if(t==="/interests"){a.invalidate("interests:*"),a.invalidate("about:*"),a.invalidate("dashboard:*");return}if(t==="/tech-skills"){a.invalidate("techskills:*"),a.invalidate("dashboard:*");return}t==="/tech-stack-categories"&&(a.invalidate("techstack:*"),a.invalidate("about:*"),a.invalidate("dashboard:*"))},$=async(t,n,s,c)=>{const o=t.filter(r=>r.order>=n).sort((r,i)=>i.order-r.order);for(const r of o){const i=await fetch(`${h}${s}/${r._id}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${c}`},body:JSON.stringify({...r,order:r.order+1})});i.ok||console.error(`Failed to update order for item ${r._id}:`,await i.text())}p(s)},u=async(t,n,s,c)=>{const f=t.filter(o=>o.order!==n).sort((o,r)=>o.order-r.order);for(let o=0;o<f.length;o++){const r=f[o],i=o+1;if(r.order!==i){const l=await fetch(`${h}${s}/${r._id}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${c}`},body:JSON.stringify({...r,order:i})});l.ok||console.error(`Failed to update order for item ${r._id}:`,await l.text())}}p(s)},y=async(t,n,s,c,f)=>{const o=t.find(i=>i._id===n);if(!o)return;const r=o.order;if(s!==r){if(s>r){const l=t.filter(e=>e._id!==n&&e.order>r&&e.order<=s).sort((e,d)=>d.order-e.order);for(const e of l){const d=await fetch(`${h}${c}/${e._id}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${f}`},body:JSON.stringify({...e,order:e.order-1})});d.ok||console.error(`Failed to update order for item ${e._id}:`,await d.text())}}else{const l=t.filter(e=>e._id!==n&&e.order>=s&&e.order<r).sort((e,d)=>d.order-e.order);for(const e of l){const d=await fetch(`${h}${c}/${e._id}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${f}`},body:JSON.stringify({...e,order:e.order+1})});d.ok||console.error(`Failed to update order for item ${e._id}:`,await d.text())}}p(c)}};export{$ as a,u as b,y as r};
