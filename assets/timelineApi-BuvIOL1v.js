import{c as l,A as s,r as a,s as c}from"./index-BKRUu3Yd.js";const d=[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]],w=l("briefcase",d);const h=[["path",{d:"M12 19h8",key:"baeox8"}],["path",{d:"m4 17 6-6-6-6",key:"1yngyt"}]],u=l("terminal",h),f={getTimeline:async(o=!1)=>{const n=c.timeline();if(!o){const i=a.get(n);if(i)return i}const e=await fetch(`${s}/timeline/public`);if(!e.ok){const i=await e.text();throw new Error(`Failed to fetch timeline: ${e.status} - ${i}`)}const t=await e.json();return a.set(n,t),t},getAllTimeline:async(o,n=!1)=>{const e=c.timeline();if(!n){const r=a.get(e);if(r)return r}const t=await fetch(`${s}/timeline`,{headers:{Authorization:`Bearer ${o}`}});if(!t.ok){const r=await t.text();throw new Error(`Failed to fetch all timeline items: ${t.status} - ${r}`)}const i=await t.json();return a.set(e,i),i},createTimeline:async(o,n)=>{const e=await fetch(`${s}/timeline`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${o}`},body:JSON.stringify(n)});if(!e.ok){const i=await e.text();throw new Error(`Failed to create timeline item: ${e.status} - ${i}`)}const t=await e.json();return a.invalidate("timeline:*"),a.invalidate("about:*"),a.invalidate("dashboard:*"),t},updateTimeline:async(o,n,e)=>{const t=await fetch(`${s}/timeline/${n}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${o}`},body:JSON.stringify(e)});if(!t.ok){const r=await t.text();throw new Error(`Failed to update timeline item: ${t.status} - ${r}`)}const i=await t.json();return a.invalidate("timeline:*"),a.invalidate("about:*"),a.invalidate("dashboard:*"),i},deleteTimeline:async(o,n)=>{const e=await fetch(`${s}/timeline/${n}`,{method:"DELETE",headers:{Authorization:`Bearer ${o}`}});if(!e.ok){const t=await e.text();throw new Error(`Failed to delete timeline item: ${e.status} - ${t}`)}a.invalidate("timeline:*"),a.invalidate("about:*"),a.invalidate("dashboard:*")}};export{w as B,u as T,f as t};
