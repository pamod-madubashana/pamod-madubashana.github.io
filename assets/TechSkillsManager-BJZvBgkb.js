import{a as u,b as xe,j as e,d as A,P as V,u as I,f as ve,F as Se,G as be,k as we}from"./ui-DPnNW4ni.js";import{C as q,b as Q,a as ye,c as je,d as Ce}from"./card-DcZSlgQm.js";import{h as Ne,t as ke,k as De,v as Re,B as L,n as Pe,w as Ee,o as Te,I as F,A as E,z as _e}from"./index-Bc3Wd5Gv.js";import{L as H}from"./label-BIIeNHvx.js";import{u as Ae}from"./index-BfNW_BBT.js";import{r as Ie,a as Be,b as Me}from"./orderUtils-CRQv1HdU.js";import{P as ze,S as Oe,T as Le,C as Ve}from"./ConfirmDialog-EDWy9WbD.js";import{S as $e}from"./save-BhBLlRa_.js";import{S as Ke}from"./search-8NJp-wAY.js";import{C as Z,S as Fe}from"./server-BcGo9rpY.js";import{C as He}from"./cloud-RREt1K4i.js";import{D as Ue}from"./database-CWMi5sgj.js";function ee(t,[r,n]){return Math.min(n,Math.max(r,t))}var te=["PageUp","PageDown"],re=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],se={"from-left":["Home","PageDown","ArrowDown","ArrowLeft"],"from-right":["Home","PageDown","ArrowDown","ArrowRight"],"from-bottom":["Home","PageDown","ArrowDown","ArrowLeft"],"from-top":["Home","PageDown","ArrowUp","ArrowLeft"]},B="Slider",[U,Ye,Ge]=ve(B),[ne]=we(B,[Ge]),[Je,$]=ne(B),oe=u.forwardRef((t,r)=>{const{name:n,min:o=0,max:l=100,step:d=1,orientation:a="horizontal",disabled:c=!1,minStepsBetweenThumbs:m=0,defaultValue:w=[o],value:p,onValueChange:s=()=>{},onValueCommit:f=()=>{},inverted:h=!1,form:j,...v}=t,x=u.useRef(new Set),g=u.useRef(0),C=a==="horizontal"?Xe:We,[S=[],R]=xe({prop:p,defaultProp:w,onChange:y=>{var T;(T=[...x.current][g.current])==null||T.focus(),s(y)}}),M=u.useRef(S);function z(y){const k=tt(S,y);N(y,k)}function i(y){N(y,g.current)}function b(){const y=M.current[g.current];S[g.current]!==y&&f(S)}function N(y,k,{commit:T}={commit:!1}){const X=ot(d),K=at(Math.round((y-o)/d)*d+o,X),O=ee(K,[o,l]);R((_=[])=>{const P=Ze(_,O,k);if(nt(P,m*d)){g.current=P.indexOf(O);const W=String(P)!==String(_);return W&&T&&f(P),W?P:_}else return _})}return e.jsx(Je,{scope:t.__scopeSlider,name:n,disabled:c,min:o,max:l,valueIndexToChangeRef:g,thumbs:x.current,values:S,orientation:a,form:j,children:e.jsx(U.Provider,{scope:t.__scopeSlider,children:e.jsx(U.Slot,{scope:t.__scopeSlider,children:e.jsx(C,{"aria-disabled":c,"data-disabled":c?"":void 0,...v,ref:r,onPointerDown:A(v.onPointerDown,()=>{c||(M.current=S)}),min:o,max:l,inverted:h,onSlideStart:c?void 0:z,onSlideMove:c?void 0:i,onSlideEnd:c?void 0:b,onHomeKeyDown:()=>!c&&N(o,0,{commit:!0}),onEndKeyDown:()=>!c&&N(l,S.length-1,{commit:!0}),onStepKeyDown:({event:y,direction:k})=>{if(!c){const K=te.includes(y.key)||y.shiftKey&&re.includes(y.key)?10:1,O=g.current,_=S[O],P=d*K*k;N(_+P,O,{commit:!0})}}})})})})});oe.displayName=B;var[ae,ie]=ne(B,{startEdge:"left",endEdge:"right",size:"width",direction:1}),Xe=u.forwardRef((t,r)=>{const{min:n,max:o,dir:l,inverted:d,onSlideStart:a,onSlideMove:c,onSlideEnd:m,onStepKeyDown:w,...p}=t,[s,f]=u.useState(null),h=I(r,C=>f(C)),j=u.useRef(void 0),v=Se(l),x=v==="ltr",g=x&&!d||!x&&d;function D(C){const S=j.current||s.getBoundingClientRect(),R=[0,S.width],z=J(R,g?[n,o]:[o,n]);return j.current=S,z(C-S.left)}return e.jsx(ae,{scope:t.__scopeSlider,startEdge:g?"left":"right",endEdge:g?"right":"left",direction:g?1:-1,size:"width",children:e.jsx(le,{dir:v,"data-orientation":"horizontal",...p,ref:h,style:{...p.style,"--radix-slider-thumb-transform":"translateX(-50%)"},onSlideStart:C=>{const S=D(C.clientX);a==null||a(S)},onSlideMove:C=>{const S=D(C.clientX);c==null||c(S)},onSlideEnd:()=>{j.current=void 0,m==null||m()},onStepKeyDown:C=>{const R=se[g?"from-left":"from-right"].includes(C.key);w==null||w({event:C,direction:R?-1:1})}})})}),We=u.forwardRef((t,r)=>{const{min:n,max:o,inverted:l,onSlideStart:d,onSlideMove:a,onSlideEnd:c,onStepKeyDown:m,...w}=t,p=u.useRef(null),s=I(r,p),f=u.useRef(void 0),h=!l;function j(v){const x=f.current||p.current.getBoundingClientRect(),g=[0,x.height],C=J(g,h?[o,n]:[n,o]);return f.current=x,C(v-x.top)}return e.jsx(ae,{scope:t.__scopeSlider,startEdge:h?"bottom":"top",endEdge:h?"top":"bottom",size:"height",direction:h?1:-1,children:e.jsx(le,{"data-orientation":"vertical",...w,ref:s,style:{...w.style,"--radix-slider-thumb-transform":"translateY(50%)"},onSlideStart:v=>{const x=j(v.clientY);d==null||d(x)},onSlideMove:v=>{const x=j(v.clientY);a==null||a(x)},onSlideEnd:()=>{f.current=void 0,c==null||c()},onStepKeyDown:v=>{const g=se[h?"from-bottom":"from-top"].includes(v.key);m==null||m({event:v,direction:g?-1:1})}})})}),le=u.forwardRef((t,r)=>{const{__scopeSlider:n,onSlideStart:o,onSlideMove:l,onSlideEnd:d,onHomeKeyDown:a,onEndKeyDown:c,onStepKeyDown:m,...w}=t,p=$(B,n);return e.jsx(V.span,{...w,ref:r,onKeyDown:A(t.onKeyDown,s=>{s.key==="Home"?(a(s),s.preventDefault()):s.key==="End"?(c(s),s.preventDefault()):te.concat(re).includes(s.key)&&(m(s),s.preventDefault())}),onPointerDown:A(t.onPointerDown,s=>{const f=s.target;f.setPointerCapture(s.pointerId),s.preventDefault(),p.thumbs.has(f)?f.focus():o(s)}),onPointerMove:A(t.onPointerMove,s=>{s.target.hasPointerCapture(s.pointerId)&&l(s)}),onPointerUp:A(t.onPointerUp,s=>{const f=s.target;f.hasPointerCapture(s.pointerId)&&(f.releasePointerCapture(s.pointerId),d(s))})})}),ce="SliderTrack",de=u.forwardRef((t,r)=>{const{__scopeSlider:n,...o}=t,l=$(ce,n);return e.jsx(V.span,{"data-disabled":l.disabled?"":void 0,"data-orientation":l.orientation,...o,ref:r})});de.displayName=ce;var Y="SliderRange",ue=u.forwardRef((t,r)=>{const{__scopeSlider:n,...o}=t,l=$(Y,n),d=ie(Y,n),a=u.useRef(null),c=I(r,a),m=l.values.length,w=l.values.map(f=>he(f,l.min,l.max)),p=m>1?Math.min(...w):0,s=100-Math.max(...w);return e.jsx(V.span,{"data-orientation":l.orientation,"data-disabled":l.disabled?"":void 0,...o,ref:c,style:{...t.style,[d.startEdge]:p+"%",[d.endEdge]:s+"%"}})});ue.displayName=Y;var G="SliderThumb",fe=u.forwardRef((t,r)=>{const n=Ye(t.__scopeSlider),[o,l]=u.useState(null),d=I(r,c=>l(c)),a=u.useMemo(()=>o?n().findIndex(c=>c.ref.current===o):-1,[n,o]);return e.jsx(qe,{...t,ref:d,index:a})}),qe=u.forwardRef((t,r)=>{const{__scopeSlider:n,index:o,name:l,...d}=t,a=$(G,n),c=ie(G,n),[m,w]=u.useState(null),p=I(r,D=>w(D)),s=m?a.form||!!m.closest("form"):!0,f=be(m),h=a.values[o],j=h===void 0?0:he(h,a.min,a.max),v=et(o,a.values.length),x=f==null?void 0:f[c.size],g=x?rt(x,j,c.direction):0;return u.useEffect(()=>{if(m)return a.thumbs.add(m),()=>{a.thumbs.delete(m)}},[m,a.thumbs]),e.jsxs("span",{style:{transform:"var(--radix-slider-thumb-transform)",position:"absolute",[c.startEdge]:`calc(${j}% + ${g}px)`},children:[e.jsx(U.ItemSlot,{scope:t.__scopeSlider,children:e.jsx(V.span,{role:"slider","aria-label":t["aria-label"]||v,"aria-valuemin":a.min,"aria-valuenow":h,"aria-valuemax":a.max,"aria-orientation":a.orientation,"data-orientation":a.orientation,"data-disabled":a.disabled?"":void 0,tabIndex:a.disabled?void 0:0,...d,ref:p,style:h===void 0?{display:"none"}:t.style,onFocus:A(t.onFocus,()=>{a.valueIndexToChangeRef.current=o})})}),s&&e.jsx(me,{name:l!=null?l:a.name?a.name+(a.values.length>1?"[]":""):void 0,form:a.form,value:h},o)]})});fe.displayName=G;var Qe="RadioBubbleInput",me=u.forwardRef(({__scopeSlider:t,value:r,...n},o)=>{const l=u.useRef(null),d=I(l,o),a=Ae(r);return u.useEffect(()=>{const c=l.current;if(!c)return;const m=window.HTMLInputElement.prototype,p=Object.getOwnPropertyDescriptor(m,"value").set;if(a!==r&&p){const s=new Event("input",{bubbles:!0});p.call(c,r),c.dispatchEvent(s)}},[a,r]),e.jsx(V.input,{style:{display:"none"},...n,ref:d,defaultValue:r})});me.displayName=Qe;function Ze(t=[],r,n){const o=[...t];return o[n]=r,o.sort((l,d)=>l-d)}function he(t,r,n){const d=100/(n-r)*(t-r);return ee(d,[0,100])}function et(t,r){return r>2?`Value ${t+1} of ${r}`:r===2?["Minimum","Maximum"][t]:void 0}function tt(t,r){if(t.length===1)return 0;const n=t.map(l=>Math.abs(l-r)),o=Math.min(...n);return n.indexOf(o)}function rt(t,r,n){const o=t/2,d=J([0,50],[0,o]);return(o-d(r)*n)*n}function st(t){return t.slice(0,-1).map((r,n)=>t[n+1]-r)}function nt(t,r){if(r>0){const n=st(t);return Math.min(...n)>=r}return!0}function J(t,r){return n=>{if(t[0]===t[1]||r[0]===r[1])return r[0];const o=(r[1]-r[0])/(t[1]-t[0]);return r[0]+o*(n-t[0])}}function ot(t){return(String(t).split(".")[1]||"").length}function at(t,r){const n=Math.pow(10,r);return Math.round(t*n)/n}var pe=oe,it=de,lt=ue,ct=fe;const ge=u.forwardRef(({className:t,...r},n)=>e.jsxs(pe,{ref:n,className:Ne("relative flex w-full touch-none select-none items-center",t),...r,children:[e.jsx(it,{className:"relative h-2 w-full grow overflow-hidden rounded-full bg-secondary",children:e.jsx(lt,{className:"absolute h-full bg-primary"})}),e.jsx(ct,{className:"block h-5 w-5 rounded-full border-2 border-primary bg-background ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50"})]}));ge.displayName=pe.displayName;const yt=()=>{const{token:t}=ke(),[r,n]=u.useState([]),[o,l]=u.useState([]),[d,a]=u.useState(""),[c,m]=u.useState(!0),[w,p]=u.useState(!1),[s,f]=u.useState(null),[h,j]=u.useState({name:"",level:50,order:0}),[v,x]=u.useState({isOpen:!1,id:"",type:""});u.useEffect(()=>{(async()=>{try{const b=await fetch(`${E}/tech-skills`,{headers:{Authorization:`Bearer ${t}`}}),N=await b.json();b.ok&&n(N)}catch(b){console.error("Error fetching tech skills:",b)}finally{m(!1)}})()},[t]),u.useEffect(()=>{if(!d)l(r);else{const i=d.toLowerCase();l(r.filter(b=>b.name.toLowerCase().includes(i)))}},[d,r]);const g=async()=>{try{if(await Be(r,h.order,"/tech-skills",t),(await fetch(`${E}/tech-skills`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${t}`},body:JSON.stringify(h)})).ok){const N=await(await fetch(`${E}/tech-skills`,{headers:{Authorization:`Bearer ${t}`}})).json();n(N),j({name:"",level:50,order:0}),p(!1)}}catch(i){console.error("Error creating tech skill:",i)}},D=async()=>{if(s)try{if(await Ie(r,s._id,s.order,"/tech-skills",t),(await fetch(`${E}/tech-skills/${s._id}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${t}`},body:JSON.stringify(s)})).ok){const N=await(await fetch(`${E}/tech-skills`,{headers:{Authorization:`Bearer ${t}`}})).json();n(N),f(null)}}catch(i){console.error("Error updating tech skill:",i)}},C=async i=>{try{const b=r.find(y=>y._id===i);if(!b)return;if(await Me(r,b.order,"/tech-skills",t),(await fetch(`${E}/tech-skills/${i}`,{method:"DELETE",headers:{Authorization:`Bearer ${t}`}})).ok){const k=await(await fetch(`${E}/tech-skills`,{headers:{Authorization:`Bearer ${t}`}})).json();n(k)}}catch(b){console.error("Error deleting tech skill:",b)}},S=(i,b)=>{x({isOpen:!0,id:i,type:b})},R=()=>{x({isOpen:!1,id:"",type:""})},M=()=>{C(v.id),R()},z=i=>{if(!i)return Z;switch(i.toLowerCase()){case"frontend":return _e;case"backend":return Fe;case"database":return Ue;case"devops":return He;default:return Z}};return e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-gray-900 to-gray-800 p-4 md:p-8",children:e.jsxs("div",{className:"max-w-6xl mx-auto",children:[e.jsx("header",{className:"mb-8",children:e.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-4",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-white",children:"Tech Skills Manager"}),e.jsx("p",{className:"text-muted-foreground",children:"Manage your technology skills"})]}),e.jsxs(De,{open:w,onOpenChange:p,children:[e.jsx(Re,{asChild:!0,children:e.jsxs(L,{className:"flex items-center gap-2",children:[e.jsx(ze,{className:"w-4 h-4"}),"New Skill"]})}),e.jsxs(Pe,{className:"max-w-3xl max-h-[90vh] overflow-y-auto bg-gray-900 text-white border border-gray-700",children:[e.jsx(Ee,{children:e.jsx(Te,{children:s?"Edit Skill":"Add New Skill"})}),e.jsxs("div",{className:"grid gap-4 py-4",children:[e.jsxs("div",{className:"grid gap-2",children:[e.jsx(H,{htmlFor:"name",children:"Skill Name"}),e.jsx(F,{id:"name",value:s?s.name:h.name,onChange:i=>s?f({...s,name:i.target.value}):j({...h,name:i.target.value}),placeholder:"e.g., JavaScript, Python, React",className:"bg-gray-800 border-none text-white placeholder-gray-400 focus-visible:ring-0 focus-visible:ring-offset-0 resize-none"})]}),e.jsxs("div",{className:"grid gap-2",children:[e.jsxs(H,{htmlFor:"level",children:["Proficiency Level: ",s?s.level:h.level,"%"]}),e.jsx(ge,{id:"level",min:0,max:100,step:1,value:[s?s.level:h.level],onValueChange:i=>s?f({...s,level:i[0]}):j({...h,level:i[0]})})]}),e.jsxs("div",{className:"grid gap-2",children:[e.jsx(H,{htmlFor:"order",children:"Order"}),e.jsx(F,{id:"order",type:"number",value:s?s.order:h.order,onChange:i=>s?f({...s,order:parseInt(i.target.value)}):j({...h,order:parseInt(i.target.value)}),placeholder:"Order position",className:"bg-gray-800 border-none text-white placeholder-gray-400 focus-visible:ring-0 focus-visible:ring-offset-0 resize-none"})]}),e.jsxs("div",{className:"flex justify-end gap-2 pt-4",children:[e.jsx(L,{variant:"outline",onClick:()=>{p(!1),f(null)},className:"border-input text-foreground hover:bg-accent hover:text-accent-foreground",children:"Cancel"}),e.jsxs(L,{onClick:s?D:g,children:[e.jsx($e,{className:"w-4 h-4 mr-2"}),s?"Update":"Add"]})]})]})]})]})]})}),e.jsx("div",{className:"mb-6",children:e.jsxs("div",{className:"relative",children:[e.jsx(Ke,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-muted-foreground w-4 h-4"}),e.jsx(F,{placeholder:"Search tech skills...",value:d,onChange:i=>a(i.target.value),className:"flex h-10 w-full rounded-md border border-input bg-white dark:bg-slate-800 text-gray-900 dark:text-white px-3 py-2 ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm pl-10"})]})}),c?e.jsx("div",{className:"text-center py-8",children:e.jsx("p",{className:"text-muted-foreground",children:"Loading tech skills..."})}):o.length===0?e.jsx(q,{className:"glass border border-primary/30",children:e.jsx(Q,{className:"py-12 text-center",children:e.jsx("p",{className:"text-muted-foreground",children:"No tech skills found"})})}):e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:o.map(i=>{const b=z(i.category);return e.jsxs(q,{className:"glass border border-primary/30 relative",children:[e.jsx("div",{className:"absolute -top-2 -left-2 bg-primary text-white rounded-full w-6 h-6 flex items-center justify-center text-xs font-bold z-10",children:i.order}),e.jsx(ye,{children:e.jsxs("div",{className:"flex justify-between items-start",children:[e.jsxs("div",{children:[e.jsxs(je,{className:"flex items-center gap-2",children:[e.jsx(b,{className:"w-5 h-5 text-primary"}),i.name]}),e.jsxs(Ce,{className:"mt-1",children:["Level: ",i.level,"%"]})]}),e.jsxs("div",{className:"flex gap-1",children:[e.jsx(L,{size:"sm",variant:"ghost",onClick:()=>{f(i),p(!0)},className:"h-8 w-8 p-0",children:e.jsx(Oe,{className:"w-4 h-4"})}),e.jsx(L,{size:"sm",variant:"ghost",onClick:()=>S(i._id,"delete"),className:"h-8 w-8 p-0 text-red-500 hover:text-red-500",children:e.jsx(Le,{className:"w-4 h-4"})})]})]})}),e.jsx(Q,{children:e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{children:"Proficiency"}),e.jsxs("span",{children:[i.level,"%"]})]}),e.jsx("div",{className:"w-full bg-gray-700 rounded-full h-2",children:e.jsx("div",{className:"bg-gradient-to-r from-primary to-secondary h-2 rounded-full",style:{width:`${i.level}%`}})})]})})]},i._id)})})]})}),e.jsx(Ve,{isOpen:v.isOpen,onClose:R,onConfirm:M,title:"Confirm Deletion",message:"Are you sure you want to delete this tech skill? This action cannot be undone.",confirmText:"Delete",cancelText:"Cancel",variant:"destructive"})]})};export{yt as default};
