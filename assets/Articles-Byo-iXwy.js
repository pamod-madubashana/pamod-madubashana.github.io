import{a as x,j as e}from"./ui-DPnNW4ni.js";import{c as N,D as A,d as k,N as S,m as u,q as C,r as f,i as b,F as E}from"./index-9JgBpA7N.js";import{a as P}from"./articleApi-B_n8cHI5.js";const _=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],v=N("arrow-right",_);const I=[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]],D=N("tag",I),d="articles:page:cache:v1",M=900*1e3,R=()=>{if(typeof window=="undefined")return null;const a=window.localStorage.getItem(d);if(!a)return null;try{const r=JSON.parse(a);return typeof r.timestamp!="number"||!Array.isArray(r.articles)||Date.now()-r.timestamp>M?(window.localStorage.removeItem(d),null):r}catch(r){return window.localStorage.removeItem(d),null}},T=a=>{if(typeof window=="undefined")return;const r={timestamp:Date.now(),articles:a};window.localStorage.setItem(d,JSON.stringify(r))},j=a=>new Date(a).toLocaleDateString("en-US",{month:"long",day:"numeric",year:"numeric"}),p=a=>{const r=a.split("").reduce((l,h)=>h.charCodeAt(0)+((l<<5)-l),0),n=["163b8c","225ac5","2f77d8","266fba","5048c9","2a6b86"];return`https://placehold.co/1200x800/${n[Math.abs(r)%n.length]}/e6f2ff?text=${encodeURIComponent(a.substring(0,24))}`},F=()=>{const[a,r]=x.useState([]),[n,m]=x.useState(!0),[l,h]=x.useState(null);x.useEffect(()=>{const t=R();if(t){r(t.articles),m(!1);return}let i=!0;return(async()=>{try{m(!0);const o=await P.getPublishedArticles();if(!i)return;r(o.articles),T(o.articles)}catch(o){if(!i)return;const w=o instanceof Error?o.message:"Failed to load articles";h(w)}finally{i&&m(!1)}})(),()=>{i=!1}},[]);const s=a.find(t=>t.status==="published"),g=a.filter(t=>t._id!==(s==null?void 0:s._id)&&t.status==="published"),y=()=>e.jsxs("div",{className:"animate-pulse",children:[e.jsx("div",{className:"aspect-video rounded-xl bg-muted/30"}),e.jsx("div",{className:"mt-5 h-4 w-1/3 rounded bg-muted/30"}),e.jsx("div",{className:"mt-4 h-6 w-4/5 rounded bg-muted/30"}),e.jsx("div",{className:"mt-2 h-4 w-full rounded bg-muted/30"}),e.jsx("div",{className:"mt-2 h-4 w-2/3 rounded bg-muted/30"}),e.jsxs("div",{className:"mt-4 flex gap-2",children:[e.jsx("div",{className:"h-6 w-16 rounded bg-muted/30"}),e.jsx("div",{className:"h-6 w-16 rounded bg-muted/30"})]})]});return e.jsxs("div",{className:"relative min-h-screen bg-background",children:[e.jsx(A,{}),e.jsx(k,{title:"Articles by Pamod Madubashana | Web Development",description:"Read practical articles by Pamod Madubashana on web development, frontend architecture, and software engineering lessons from real products.",path:"/articles",keywords:["web development articles","software engineering","frontend architecture","Pamod Madubashana"],structuredData:{"@type":"Blog","@id":"https://pamod.is-a.dev/articles#blog",url:"https://pamod.is-a.dev/articles",name:"Pamod Madubashana Articles",description:"Technical articles on web development and software engineering.",publisher:{"@type":"Person",name:"Pamod Madubashana",url:"https://pamod.is-a.dev/"}}}),e.jsx(S,{}),e.jsxs("main",{className:"relative z-10 pt-24 pb-20",children:[e.jsx("section",{className:"section-shell",children:e.jsx("div",{className:"section-inner",children:e.jsxs(u.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.6},className:"page-hero-panel mx-auto max-w-4xl",children:[e.jsx("span",{className:"section-pill",children:"Blog"}),e.jsxs("h1",{className:"section-title text-4xl md:text-5xl lg:text-6xl",children:[e.jsx("span",{className:"text-foreground/75",children:"Thoughts"})," ",e.jsx("span",{className:"text-gradient",children:"& Ideas"})]}),e.jsx("p",{className:"section-copy mx-auto mt-5 max-w-2xl",children:"Writing about product engineering, frontend architecture, and practical lessons from shipping real projects."})]})})}),s&&!n&&!l&&e.jsx("section",{className:"section-shell section-shell-muted py-10",children:e.jsx("div",{className:"section-inner",children:e.jsx(u.article,{initial:{opacity:0,y:24},animate:{opacity:1,y:0},transition:{duration:.55,delay:.1},className:"surface-card group overflow-hidden p-0 backdrop-blur-2xl",children:e.jsxs("div",{className:"grid md:grid-cols-2",children:[e.jsxs("div",{className:"relative aspect-video overflow-hidden md:aspect-auto",children:[e.jsx("img",{src:s.featuredImage||p(s.title),alt:s.title,className:"h-full w-full object-cover transition-transform duration-500 group-hover:scale-105",loading:"lazy",decoding:"async",sizes:"(max-width: 768px) 100vw, 50vw",onError:t=>{t.currentTarget.src=p(s.title)}}),e.jsx("div",{className:"absolute inset-0 bg-gradient-to-tr from-background/45 to-transparent"})]}),e.jsxs("div",{className:"flex flex-col justify-center p-7 md:p-10",children:[e.jsxs("span",{className:"mb-4 inline-flex w-fit items-center gap-2 rounded-full border border-primary/35 bg-primary/10 px-3 py-1 text-xs font-semibold uppercase tracking-[0.12em] text-primary",children:[e.jsx(C,{className:"h-3.5 w-3.5"}),"Featured Story"]}),e.jsxs("div",{className:"mb-4 flex items-center gap-3 text-sm text-muted-foreground",children:[e.jsx(f,{className:"h-4 w-4"}),j(s.createdAt)]}),e.jsx("h2",{className:"text-2xl font-bold text-foreground transition-colors group-hover:text-primary md:text-3xl",children:s.title}),e.jsx("p",{className:"mt-4 text-sm leading-relaxed text-muted-foreground md:text-base",children:s.excerpt}),e.jsx("div",{className:"mt-5 flex flex-wrap gap-2",children:s.tags.slice(0,4).map(t=>e.jsxs("span",{className:"chip-tag",children:[e.jsx(D,{className:"h-3 w-3"}),t]},t))}),e.jsxs(b,{to:`/articles/${s.slug}`,className:"mt-6 inline-flex items-center gap-2 font-semibold text-primary",children:["Read Article",e.jsx(v,{className:"h-4 w-4 transition-transform group-hover:translate-x-1"})]})]})]})})})}),e.jsx("section",{className:"section-shell py-10",children:e.jsxs("div",{className:"section-inner",children:[e.jsx("div",{className:"mb-8 text-center",children:e.jsxs("h2",{className:"text-2xl font-bold text-foreground md:text-3xl",children:[e.jsx("span",{className:"text-foreground/75",children:"Latest"})," ",e.jsx("span",{className:"text-gradient",children:"Articles"})]})}),e.jsx("div",{className:"grid grid-cols-1 gap-8 md:grid-cols-2 xl:grid-cols-3",children:n?Array.from({length:6}).map((t,i)=>e.jsx(u.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3,delay:i*.05},className:"surface-card backdrop-blur-2xl",children:y()},`skeleton-${i}`)):l?e.jsxs("div",{className:"col-span-full rounded-2xl border border-destructive/40 bg-destructive/10 p-10 text-center",children:[e.jsx("p",{className:"mb-4 text-destructive",children:l}),e.jsx("button",{className:"rounded-md border border-destructive/50 px-4 py-2 text-sm text-destructive transition hover:bg-destructive/10",onClick:()=>window.location.reload(),children:"Retry"})]}):g.length===0?e.jsx("div",{className:"col-span-full rounded-2xl border border-border/60 bg-card/30 p-10 text-center backdrop-blur-xl",children:e.jsx("p",{className:"text-muted-foreground",children:"No articles found."})}):g.map((t,i)=>e.jsxs(u.article,{initial:{opacity:0,y:22},animate:{opacity:1,y:0},transition:{duration:.45,delay:i*.08},className:"surface-card group overflow-hidden p-0 backdrop-blur-2xl",children:[e.jsxs("div",{className:"relative aspect-video overflow-hidden border-b border-border/60",children:[e.jsx("img",{src:t.featuredImage||p(t.title),alt:t.title,className:"h-full w-full object-cover transition-transform duration-500 group-hover:scale-105",loading:"lazy",decoding:"async",sizes:"(max-width: 768px) 100vw, (max-width: 1280px) 50vw, 33vw",onError:c=>{c.currentTarget.src=p(t.title)}}),e.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-background/65 to-transparent"})]}),e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"mb-3 flex items-center gap-2 text-xs font-medium uppercase tracking-[0.12em] text-muted-foreground",children:[e.jsx(f,{className:"h-4 w-4"}),j(t.createdAt)]}),e.jsx("h3",{className:"line-clamp-2 text-lg font-semibold text-foreground transition-colors group-hover:text-primary",children:t.title}),e.jsx("p",{className:"mt-3 line-clamp-3 text-sm leading-relaxed text-muted-foreground",children:t.excerpt}),e.jsx("div",{className:"mt-4 flex flex-wrap gap-2",children:t.tags.slice(0,2).map(c=>e.jsx("span",{className:"chip-tag",children:c},c))}),e.jsxs(b,{to:`/articles/${t.slug}`,className:"mt-5 inline-flex items-center gap-2 text-sm font-semibold text-primary",children:["Read More",e.jsx(v,{className:"h-4 w-4 transition-transform group-hover:translate-x-1"})]})]})]},t._id))})]})})]}),e.jsx("div",{className:"relative z-10",children:e.jsx(E,{})})]})};export{F as default};
