<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />

  <title>404 | Page Not Found</title>
  <meta name="robots" content="noindex,nofollow" />
  <link rel="icon" href="/favicon.ico" />

  <style>
    body{
      margin:0; min-height:100vh; display:grid; place-items:center;
      background:#0f1724; color:#dce6f5;
      font-family:"Space Grotesk",system-ui,sans-serif;
      padding:24px; text-align:center;
    }
    main{max-width:680px}
    a{color:#2ccfff;text-decoration:underline;text-underline-offset:3px}

    #loading{display:none}
    #loading .spinner{
      width:36px;height:36px;border:3px solid rgba(220,230,245,.25);
      border-top-color:#2ccfff;border-radius:999px;
      animation:spin .9s linear infinite;margin:0 auto 14px;
    }
    @keyframes spin{to{transform:rotate(360deg)}}
  </style>

  <script>
    (function () {
      const path = window.location.pathname;

      // ✅ If it's a project route, show Loading and redirect
      if (path.startsWith("/projects/")) {
        document.title = "Loading…";
        window.addEventListener("DOMContentLoaded", () => {
          document.getElementById("notfound").style.display = "none";
          document.getElementById("loading").style.display = "block";
        });

        const full = path + (location.search || "") + (location.hash || "");
        const redirect = encodeURIComponent(full);
        window.location.replace(window.location.origin + "/?redirect=" + redirect);
        return;
      }

      // ❌ Anything else: real 404 page stays visible
    })();
  </script>
</head>

<body>
  <main id="loading">
    <div class="spinner"></div>
    <h1 style="margin:0; font-size:22px;">Loading…</h1>
    <p style="opacity:.75; margin-top:8px;">Taking you to the right page</p>
  </main>

  <main id="notfound">
    <h1>Page not found</h1>
    <p>The page you requested could not be found.</p>
    <p><a href="/">Go back to the homepage</a></p>
  </main>
</body>
</html>
